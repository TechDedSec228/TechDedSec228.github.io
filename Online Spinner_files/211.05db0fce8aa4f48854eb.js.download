atwpjp([211],{26:function(e,t,n){!function(e,n){n(t)}(this,function(e){function t(e,t,n){this.nodeName=e,this.attributes=t,this.children=n,this.key=t&&t.key}function n(e,n){var r,i,a,o,s=[];for(o=arguments.length;o-- >2;)U.push(arguments[o]);for(n&&n.children&&(U.length||U.push(n.children),delete n.children);U.length;)if((i=U.pop())instanceof Array)for(o=i.length;o--;)U.push(i[o]);else null!=i&&i!==!1&&("number"!=typeof i&&i!==!0||(i=String(i)),a="string"==typeof i,a&&r?s[s.length-1]+=i:(s.push(i),r=a));var l=new t(e,n||void 0,s);return F.vnode&&F.vnode(l),l}function r(e,t){if(t)for(var n in t)e[n]=t[n];return e}function i(e){return r({},e)}function a(e,t){for(var n=t.split("."),r=0;r<n.length&&e;r++)e=e[n[r]];return e}function o(e){return"function"==typeof e}function s(e){return"string"==typeof e}function l(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function u(e,t){return n(e.nodeName,r(i(e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}function d(e,t,n){var r=t.split(".");return function(t){for(var i=t&&t.target||this,o={},l=o,u=s(n)?a(t,n):i.nodeName?i.type.match(/^che|rad/)?i.checked:i.value:t,d=0;d<r.length-1;d++)l=l[r[d]]||(l[r[d]]=!d&&e.state[r[d]]||{});l[r[d]]=u,e.setState(o)}}function c(e){!e._dirty&&(e._dirty=!0)&&1==Z.push(e)&&(F.debounceRendering||z)(p)}function p(){var e,t=Z;for(Z=[];e=t.pop();)e._dirty&&H(e)}function f(e){var t=e&&e.nodeName;return t&&o(t)&&!(t.prototype&&t.prototype.render)}function h(e,t){return e.nodeName(g(e),t||V)}function m(e,t){return s(t)?e instanceof Text:s(t.nodeName)?v(e,t.nodeName):o(t.nodeName)?e._componentConstructor===t.nodeName||f(t):void 0}function v(e,t){return e.normalizedNodeName===t||q(e.nodeName)===q(t)}function g(e){var t=i(e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function y(e){var t=e.parentNode;t&&t.removeChild(e)}function b(e,t,n,r,i){if("className"===t&&(t="class"),"class"===t&&r&&"object"==typeof r&&(r=l(r)),"key"===t);else if("class"!==t||i)if("style"===t){if((!r||s(r)||s(n))&&(e.style.cssText=r||""),r&&"object"==typeof r){if(!s(n))for(var a in n)a in r||(e.style[a]="");for(var a in r)e.style[a]="number"!=typeof r[a]||$[a]?r[a]:r[a]+"px"}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html);else if("o"==t[0]&&"n"==t[1]){var u=e._listeners||(e._listeners={});t=q(t.substring(2)),r?u[t]||e.addEventListener(t,T,!!K[t]):u[t]&&e.removeEventListener(t,T,!!K[t]),u[t]=r}else if("list"!==t&&"type"!==t&&!i&&t in e)S(e,t,null==r?"":r),null!=r&&r!==!1||e.removeAttribute(t);else{var d=i&&t.match(/^xlink\:?(.+)/);null==r||r===!1?d?e.removeAttributeNS("http://www.w3.org/1999/xlink",q(d[1])):e.removeAttribute(t):"object"==typeof r||o(r)||(d?e.setAttributeNS("http://www.w3.org/1999/xlink",q(d[1]),r):e.setAttribute(t,r))}else e.className=r||""}function S(e,t,n){try{e[t]=n}catch(e){}}function T(e){return this._listeners[e.type](F.event&&F.event(e)||e)}function x(e){if(y(e),e instanceof Element){e._component=e._componentConstructor=null;var t=e.normalizedNodeName||q(e.nodeName);(Q[t]||(Q[t]=[])).push(e)}}function P(e,t){var n=q(e),r=Q[n]&&Q[n].pop()||(t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e));return r.normalizedNodeName=n,r}function _(){for(var e;e=Y.pop();)F.afterMount&&F.afterMount(e),e.componentDidMount&&e.componentDidMount()}function C(e,t,n,r,i,a){X++||(J=i instanceof SVGElement);var o=E(e,t,n,r);return i&&o.parentNode!==i&&i.appendChild(o),--X||a||_(),o}function E(e,t,n,r){for(var i=t&&t.attributes;f(t);)t=h(t,n);if(null==t&&(t=""),s(t)){if(e){if(e instanceof Text&&e.parentNode)return e.nodeValue!=t&&(e.nodeValue=t),e;M(e)}return document.createTextNode(t)}if(o(t.nodeName))return O(e,t,n,r);var a=e,l=t.nodeName,u=J,d=t.children;if(s(l)||(l=String(l)),J="svg"===l||"foreignObject"!==l&&J,e){if(!v(e,l)){for(a=P(l,J);e.firstChild;)a.appendChild(e.firstChild);M(e)}}else a=P(l,J);d&&1===d.length&&"string"==typeof d[0]&&1===a.childNodes.length&&a.firstChild instanceof Text?a.firstChild.nodeValue!=d[0]&&(a.firstChild.nodeValue=d[0]):(d&&d.length||a.firstChild)&&N(a,d,n,r);var c=a[G];if(!c){a[G]=c={};for(var p=a.attributes,m=p.length;m--;)c[p[m].name]=p[m].value}return k(a,t.attributes,c),i&&"function"==typeof i.ref&&(c.ref=i.ref)(a),J=u,a}function N(e,t,n,r){var i,a,s,l,u=e.childNodes,d=[],c={},p=0,f=0,h=u.length,v=0,g=t&&t.length;if(h)for(var y=0;y<h;y++){var b=u[y],S=g?(a=b._component)?a.__key:(a=b[G])?a.key:null:null;S||0===S?(p++,c[S]=b):d[v++]=b}if(g)for(var y=0;y<g;y++){s=t[y],l=null;var S=s.key;if(null!=S)p&&S in c&&(l=c[S],c[S]=void 0,p--);else if(!l&&f<v){for(i=f;i<v;i++)if(a=d[i],a&&m(a,s)){l=a,d[i]=void 0,i===v-1&&v--,i===f&&f++;break}!l&&f<v&&o(s.nodeName)&&r&&(l=d[f],d[f++]=void 0)}l=E(l,s,n,r),l&&l!==e&&l!==u[y]&&e.insertBefore(l,u[y]||null)}if(p)for(var y in c)c[y]&&M(c[y]);f<v&&w(d)}function w(e,t){for(var n=e.length;n--;)e[n]&&M(e[n],t)}function M(e,t){var n=e._component;n?A(n,!t):(e[G]&&e[G].ref&&e[G].ref(null),t||x(e),e.childNodes&&e.childNodes.length&&w(e.childNodes,t))}function k(e,t,n){for(var r in n)t&&r in t||null==n[r]||b(e,r,n[r],n[r]=void 0,J);if(t)for(var i in t)"children"===i||"innerHTML"===i||i in n&&t[i]===("value"===i||"checked"===i?e[i]:n[i])||b(e,i,n[i],n[i]=t[i],J)}function R(e){var t=e.constructor.name,n=ee[t];n?n.push(e):ee[t]=[e]}function L(e,t,n){var r=new e(t,n),i=ee[e.name];if(D.call(r,t,n),i)for(var a=i.length;a--;)if(i[a].constructor===e){r.nextBase=i[a].nextBase,i.splice(a,1);break}return r}function I(e,t,n,r,i){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&F.syncComponentUpdates===!1&&e.base?c(e):H(e,1,i)),e.__ref&&e.__ref(e))}function H(e,t,n,a){if(!e._disable){var s,l,u,d,c=e.props,p=e.state,m=e.context,v=e.prevProps||c,y=e.prevState||p,b=e.prevContext||m,S=e.base,T=e.nextBase,x=S||T,P=e._component;if(S&&(e.props=v,e.state=y,e.context=b,2!==t&&e.shouldComponentUpdate&&e.shouldComponentUpdate(c,p,m)===!1?s=!0:e.componentWillUpdate&&e.componentWillUpdate(c,p,m),e.props=c,e.state=p,e.context=m),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!s){for(e.render&&(l=e.render(c,p,m)),e.getChildContext&&(m=r(i(m),e.getChildContext()));f(l);)l=h(l,m);var E,N,w=l&&l.nodeName;if(o(w)){u=P;var k=g(l);u&&u.constructor===w?I(u,k,1,m):(E=u,u=L(w,k,m),u.nextBase=u.nextBase||T,u._parentComponent=e,e._component=u,I(u,k,0,m),H(u,1,n,!0)),N=u.base}else d=x,E=P,E&&(d=e._component=null),(x||1===t)&&(d&&(d._component=null),N=C(d,l,m,n||!S,x&&x.parentNode,!0));if(x&&N!==x&&u!==P){var R=x.parentNode;R&&N!==R&&(R.replaceChild(N,x),E||(x._component=null,M(x)))}if(E&&A(E,N!==x),e.base=N,N&&!a){for(var O=e,D=e;D=D._parentComponent;)(O=D).base=N;N._component=O,N._componentConstructor=O.constructor}}!S||n?Y.unshift(e):s||(e.componentDidUpdate&&e.componentDidUpdate(v,y,b),F.afterUpdate&&F.afterUpdate(e));var j,U=e._renderCallbacks;if(U)for(;j=U.pop();)j.call(e);X||a||_()}}function O(e,t,n,r){for(var i=e&&e._component,a=e,o=i&&e._componentConstructor===t.nodeName,s=o,l=g(t);i&&!s&&(i=i._parentComponent);)s=i.constructor===t.nodeName;return i&&s&&(!r||i._component)?(I(i,l,3,n,r),e=i.base):(i&&!o&&(A(i,!0),e=a=null),i=L(t.nodeName,l,n),e&&!i.nextBase&&(i.nextBase=e,a=null),I(i,l,1,n,r),e=i.base,a&&e!==a&&(a._component=null,M(a))),e}function A(e,t){F.beforeUnmount&&F.beforeUnmount(e);var n=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var r=e._component;r?A(r,t):n&&(n[G]&&n[G].ref&&n[G].ref(null),e.nextBase=n,t&&(y(n),R(e)),w(n.childNodes,!t)),e.__ref&&e.__ref(null),e.componentDidUnmount&&e.componentDidUnmount()}function D(e,t){this._dirty=!0,this.context=t,this.props=e,this.state||(this.state={})}function j(e,t,n){return C(n,e,{},!1,t)}var F={},U=[],W={},q=function(e){return W[e]||(W[e]=e.toLowerCase())},B="undefined"!=typeof Promise&&Promise.resolve(),z=B?function(e){B.then(e)}:setTimeout,V={},G="undefined"!=typeof Symbol?Symbol.for("preactattr"):"__preactattr_",$={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},K={blur:1,error:1,focus:1,load:1,resize:1,scroll:1},Z=[],Q={},Y=[],X=0,J=!1,ee={};r(D.prototype,{linkState:function(e,t){var n=this._linkedStates||(this._linkedStates={});return n[e+t]||(n[e+t]=d(this,e,t))},setState:function(e,t){var n=this.state;this.prevState||(this.prevState=i(n)),r(n,o(e)?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),c(this)},forceUpdate:function(){H(this,2)},render:function(){}}),e.h=n,e.cloneElement=u,e.Component=D,e.render=j,e.rerender=p,e.options=F})},27:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){window.$ENV&&"production"!==window.$ENV.NODE_ENV&&o.default(e&&"function"==typeof e&&e.prototype,"bindMethods must be passed a class/constructor function with a prototype property.");var t=e.prototype;return Object.keys(t).forEach(function(e){var n=t[e];"function"==typeof n&&Object.defineProperty(t,e,{get:function(){if(this.hasOwnProperty(e))return n;var t=n.bind(this);return Object.defineProperty(this,e,{value:t,configurable:!0,writable:!0}),t}})}),e}t.__esModule=!0,t.default=i;var a=n(21),o=r(a);e.exports=t.default},28:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=!1),window.$ENV&&"production"!==window.$ENV.NODE_ENV&&(l.default("function"==typeof e,"Cannot apply mixins to non-functions. Received an argument of type %s.",typeof e),l.default("[object Object]"===Object.prototype.toString.call(e.prototype),"Cannot apply mixins to functions lacking a prototype object."),l.default("[object Array]"===Object.prototype.toString.call(t),"Supplied mixins must be in the form of an array."));var o=e.prototype,s=e;if(n){var u;r=r||o.displayName||e.name||"NewMixedClass";var c=(u={},u[r]=function(e){function t(){i(this,t),e.apply(this,arguments)}return a(t,e),t}(e),u);o=d.default(c[r].prototype,o),s=c[r]}return t.forEach(function(e){Object.keys(e).forEach(function(t){"getInitialState"===t?!function(){var t=o,n=t.componentWillMount;o.componentWillMount=function(){this.state=this.state||{},d.default(this.state,e.getInitialState.call(this)),n&&n.call(this)}}():o[t]?!function(){var n=o[t];o[t]=function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];e[t].apply(this,i),n.apply(this,i)}}():o[t]=e[t]})}),s}t.__esModule=!0,t.default=o;var s=n(21),l=r(s),u=n(8),d=r(u);e.exports=t.default},38:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){var n=function(t){function n(e){i(this,n),t.call(this,e)}return a(n,t),n.prototype.handleClick=function(){this.props.handleClick&&this.props.handleClick.apply(null,arguments)},n.prototype.getTemplatePlaceholder=function(){return"{{reducedBrandingInnerHTML}}"},n.prototype.getAnchorElements=function(){if(this.props.isRenderingToString)return this.getTemplatePlaceholder();var t=this.props,n=t.campaign,r=t.color,i=t.isBrandingReduced,a=t.supplementalClass,o=t.url,s="string"==typeof o?o:d.default(n),l=i?"at-branding-info":"at-branding-logo",u="AddThis",c={href:s,className:a?l+" "+a:l,style:r?{color:r,borderColor:r}:{},title:"Powered by AddThis",target:"_blank",key:"at-branding-anchor"};return i?e("a",c,[e("span",{key:"at-branding-anchor-span"},u)]):e("a",c,[e("div",{className:"at-branding-icon",key:"at-branding-anchor-div"},""),e("span",{className:"at-branding-addthis",key:"at-branding-anchor-span"},u)])},n.prototype.render=function(){return e("div",{onClick:this.handleClick,className:this.props.containerClass},[this.getAnchorElements()])},n}(t);return n.defaultProps={containerClass:"",isBrandingReduced:!1},h.default(p.default(n,[l.default],!0))}t.__esModule=!0,t.default=o;var s=n(39),l=r(s),u=n(44),d=r(u),c=n(28),p=r(c),f=n(27),h=r(f);e.exports=t.default},39:function(e,t,n){e.exports=n(40)},40:function(e,t,n){e.exports=n(41)},41:function(e,t,n){"use strict";var r=n(42);e.exports={shouldComponentUpdate:function(e,t){return r(this,e,t)}}},42:function(e,t,n){"use strict";var r=n(43);e.exports=function(e,t,n){return!r(e.props,t)||!r(e.state,n)}},43:function(e,t){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}var r=Object.prototype.hasOwnProperty;e.exports=function(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var o=0;o<i.length;o++)if(!r.call(t,i[o])||!n(e[i[o]],t[i[o]]))return!1;return!0}},384:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(385),a=r(i),o=n(385),s=r(o);e.exports=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.hostNodeId;delete t.hostNodeId;var r=a.default.createElement(e,t);s.default.render(r,document.getElementById(n))}},385:function(e,t,n){!function(t,r){e.exports=r(n(386),n(26))}(this,function(e,t){"use strict";function n(){return null}function r(e){var t=e.nodeName,n=e.attributes;e.attributes={},t.defaultProps&&x(e.attributes,t.defaultProps),n&&x(e.attributes,n)}function i(e,t){var n,r,i;if(t){for(i in t)if(n=z.test(i))break;if(n){r=e.attributes={};for(i in t)t.hasOwnProperty(i)&&(r[z.test(i)?i.replace(/([A-Z0-9])/,"-$1").toLowerCase():i]=t[i])}}}function a(e,n,r){var i=n&&n._preactCompatRendered&&n._preactCompatRendered.base;i&&i.parentNode!==n&&(i=null),!i&&n&&(i=n.firstElementChild);for(var a=n.childNodes.length;a--;)n.childNodes[a]!==i&&n.removeChild(n.childNodes[a]);var o=t.render(e,n,i);return n&&(n._preactCompatRendered=o&&(o._component||{base:o})),"function"==typeof r&&r(),o&&o._component||o}function o(e,n,r,i){var o=t.h(Q,{context:e.context},n),s=a(o,r),l=s._component||s.base;return i&&i.call(l,s),l}function s(e){o(this,e.vnode,e.container)}function l(e,n){return t.h(s,{vnode:e,container:n})}function u(e){var r=e._preactCompatRendered&&e._preactCompatRendered.base;return!(!r||r.parentNode!==e)&&(t.render(t.h(n),e,r),!0)}function d(e){return m.bind(null,e)}function c(e,t){for(var n=t||0;n<e.length;n++){var r=e[n];Array.isArray(r)?c(r):r&&"object"==typeof r&&!y(r)&&(r.props&&r.type||r.attributes&&r.nodeName||r.children)&&(e[n]=m(r.type||r.nodeName,r.props||r.attributes,r.children))}}function p(e){return"function"==typeof e&&!(e.prototype&&e.prototype.render)}function f(e){return E({displayName:e.displayName||e.name,render:function(){return e(this.props,this.context)}})}function h(e){var t=e[q];return t?t===!0?e:t:(t=f(e),Object.defineProperty(t,q,{configurable:!0,value:!0}),t.displayName=e.displayName,t.propTypes=e.propTypes,t.defaultProps=e.defaultProps,Object.defineProperty(e,q,{configurable:!0,value:t}),t)}function m(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return c(e,2),v(t.h.apply(void 0,e))}function v(e){e.preactCompatNormalized=!0,T(e),p(e.nodeName)&&(e.nodeName=h(e.nodeName));var t=e.attributes.ref,n=t&&typeof t;return!Y||"string"!==n&&"number"!==n||(e.attributes.ref=b(t,Y)),S(e),e}function g(e,n){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];if(!y(e))return e;var a=e.attributes||e.props,o=t.h(e.nodeName||e.type,x({},a),e.children||a&&a.children),s=[o,n];return r&&r.length?s.push(r):n&&n.children&&s.push(n.children),v(t.cloneElement.apply(void 0,s))}function y(e){return e&&(e instanceof $||e.$$typeof===W)}function b(e,t){return t._refProxies[e]||(t._refProxies[e]=function(n){t&&t.refs&&(t.refs[e]=n,null===n&&(delete t._refProxies[e],t=null))})}function S(e){var t=e.nodeName,n=e.attributes;if(n&&"string"==typeof t){var r={};for(var i in n)r[i.toLowerCase()]=i;if(r.ondoubleclick&&(n.ondblclick=n[r.ondoubleclick],delete n[r.ondoubleclick]),r.onchange&&("textarea"===t||"input"===t.toLowerCase()&&!/^fil|che|rad/i.test(n.type))){var a=r.oninput||"oninput";n[a]||(n[a]=R([n[a],n[r.onchange]]),delete n[r.onchange])}}}function T(e){var t=e.attributes||(e.attributes={});ne.enumerable="className"in t,t.className&&(t.class=t.className),Object.defineProperty(t,"className",ne)}function x(e,t){for(var n=arguments,r=1,i=void 0;r<arguments.length;r++)if(i=n[r])for(var a in i)i.hasOwnProperty(a)&&(e[a]=i[a]);return e}function P(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}function _(e){return e&&(e.base||1===e.nodeType&&e)||null}function C(){}function E(e){function t(e,t){M(this),A.call(this,e,t,V),L.call(this,e,t)}return e=x({constructor:t},e),e.mixins&&w(e,N(e.mixins)),e.statics&&x(t,e.statics),e.propTypes&&(t.propTypes=e.propTypes),e.defaultProps&&(t.defaultProps=e.defaultProps),e.getDefaultProps&&(t.defaultProps=e.getDefaultProps.call(t)),C.prototype=A.prototype,t.prototype=x(new C,e),t.displayName=e.displayName||"Component",t}function N(e){for(var t={},n=0;n<e.length;n++){var r=e[n];for(var i in r)r.hasOwnProperty(i)&&"function"==typeof r[i]&&(t[i]||(t[i]=[])).push(r[i])}return t}function w(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=R(t[n].concat(e[n]||X),"getDefaultProps"===n||"getInitialState"===n||"getChildContext"===n))}function M(e){for(var t in e){var n=e[t];"function"!=typeof n||n.__bound||B.hasOwnProperty(t)||((e[t]=n.bind(e)).__bound=!0)}}function k(e,t,n){if("string"==typeof t&&(t=e.constructor.prototype[t]),"function"==typeof t)return t.apply(e,n)}function R(e,t){return function(){for(var n,r=arguments,i=this,a=0;a<e.length;a++){var o=k(i,e[a],r);if(t&&null!=o){n||(n={});for(var s in o)o.hasOwnProperty(s)&&(n[s]=o[s])}else"undefined"!=typeof o&&(n=o)}return n}}function L(e,t){I.call(this,e,t),this.componentWillReceiveProps=R([I,this.componentWillReceiveProps||"componentWillReceiveProps"]),this.render=R([I,H,this.render||"render",O])}function I(t,n){if(t){var r=t.children;if(r&&Array.isArray(r)&&1===r.length&&("string"==typeof r[0]||"function"==typeof r[0]||r[0]instanceof $)&&(t.children=r[0],t.children&&"object"==typeof t.children&&(t.children.length=1,t.children[0]=t.children)),G){var i="function"==typeof this?this:this.constructor,a=this.propTypes||i.propTypes,o=this.displayName||i.name;a&&e.checkPropTypes(a,t,"prop",o)}}}function H(e){Y=this}function O(){Y===this&&(Y=null)}function A(e,n,r){t.Component.call(this,e,n),this.state=this.getInitialState?this.getInitialState():{},this.refs={},this._refProxies={},r!==V&&L.call(this,e,n)}function D(e,t){A.call(this,e,t)}function j(e){e()}e=e&&e.hasOwnProperty("default")?e.default:e;var F="15.1.0",U="a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan".split(" "),W="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,q="undefined"!=typeof Symbol&&Symbol.for?Symbol.for("__preactCompatWrapper"):"__preactCompatWrapper",B={constructor:1,render:1,shouldComponentUpdate:1,componentWillReceiveProps:1,componentWillUpdate:1,componentDidUpdate:1,componentWillMount:1,componentDidMount:1,componentWillUnmount:1,componentDidUnmount:1},z=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vector|vert|word|writing|x)[A-Z]/,V={},G=!1;try{G=!1}catch(e){}var $=t.h("a",null).constructor;$.prototype.$$typeof=W,$.prototype.preactCompatUpgraded=!1,$.prototype.preactCompatNormalized=!1,Object.defineProperty($.prototype,"type",{get:function(){return this.nodeName},set:function(e){this.nodeName=e},configurable:!0}),Object.defineProperty($.prototype,"props",{get:function(){return this.attributes},set:function(e){this.attributes=e},configurable:!0});var K=t.options.event;t.options.event=function(e){return K&&(e=K(e)),e.persist=Object,e.nativeEvent=e,e};var Z=t.options.vnode;t.options.vnode=function(e){if(!e.preactCompatUpgraded){e.preactCompatUpgraded=!0;var t=e.nodeName,n=e.attributes=null==e.attributes?{}:x({},e.attributes);"function"==typeof t?(t[q]===!0||t.prototype&&"isReactComponent"in t.prototype)&&(e.children&&""===String(e.children)&&(e.children=void 0),e.children&&(n.children=e.children),e.preactCompatNormalized||v(e),r(e)):(e.children&&""===String(e.children)&&(e.children=void 0),e.children&&(n.children=e.children),n.defaultValue&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),i(e,n))}Z&&Z(e)};var Q=function(){};Q.prototype.getChildContext=function(){return this.props.context},Q.prototype.render=function(e){return e.children[0]};for(var Y,X=[],J={map:function(e,t,n){return null==e?null:(e=J.toArray(e),n&&n!==e&&(t=t.bind(n)),e.map(t))},forEach:function(e,t,n){return null==e?null:(e=J.toArray(e),n&&n!==e&&(t=t.bind(n)),void e.forEach(t))},count:function(e){return e&&e.length||0},only:function(e){if(e=J.toArray(e),1!==e.length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:function(e){return null==e?[]:X.concat(e)}},ee={},te=U.length;te--;)ee[U[te]]=d(U[te]);var ne={configurable:!0,get:function(){return this.class},set:function(e){this.class=e}};x(A.prototype=new t.Component,{constructor:A,isReactComponent:{},replaceState:function(e,t){var n=this;this.setState(e,t);for(var r in n.state)r in e||delete n.state[r]},getDOMNode:function(){return this.base},isMounted:function(){return!!this.base}}),C.prototype=A.prototype,D.prototype=new C,D.prototype.isPureReactComponent=!0,D.prototype.shouldComponentUpdate=function(e,t){return P(this.props,e)||P(this.state,t)};var re={version:F,DOM:ee,PropTypes:e,Children:J,render:a,createClass:E,createPortal:l,createFactory:d,createElement:m,cloneElement:g,isValidElement:y,findDOMNode:_,unmountComponentAtNode:u,Component:A,PureComponent:D,unstable_renderSubtreeIntoContainer:o,unstable_batchedUpdates:j,__spread:x};return re})},386:function(e,t,n){e.exports=n(387)()},387:function(e,t,n){"use strict";function r(){}function i(){}var a=n(388);i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,o){if(o!==a){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},388:function(e,t){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},389:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(385),o=r(a),s=n(390),l=r(s),u=n(496),d=r(u),c=n(44),p=r(c),f=n(5),h=r(f),m=n(497),v=r(m),g=n(499),y=r(g),b=n(500),S=r(b),T=n(343),x=r(T),P=n(501),_=r(P),C=n(8),E=r(C),N=n(503),w=r(N),M=n(504),k=r(M),R=n(66),L=r(R),I=n(400),H=r(I),O=n(506),A=r(O),D=n(473),j=r(D),F=n(507),U=r(F),W=n(508),q=r(W),B=n(511),z=r(B),V=n(521),G=r(V),$=n(522),K=r($),Z=n(38),Q=r(Z),Y=n(520),X=r(Y);n(478);var J=j.default.ICON_RENDER_INCREMENT,ee=j.default.NUM_ICONS_TO_INITIALLY_RENDER,te=j.default.MAX_TOP_SERVICES,ne=h.default("mob");t.default=o.default.createClass({displayName:"ExpandedMenuControllerView",propTypes:{customServicesCss:o.default.PropTypes.object,documentBodyClassName:o.default.PropTypes.string,documentElementClassName:o.default.PropTypes.string,eventDispatcher:o.default.PropTypes.object.isRequired,handleClose:o.default.PropTypes.func,handleShare:o.default.PropTypes.func,initialInnerPane:o.default.PropTypes.string,initiallyLoadAllServices:o.default.PropTypes.bool,initialMenuConfig:o.default.PropTypes.object.isRequired,initialMenuShare:o.default.PropTypes.object.isRequired,initialMenuType:o.default.PropTypes.oneOf(["share","follow"]),initialTotalServices:o.default.PropTypes.object,isBrandingReduced:o.default.PropTypes.bool,isInitiallyHidden:o.default.PropTypes.bool,isLoading:o.default.PropTypes.bool,isRenderingToString:o.default.PropTypes.bool,isStandalone:o.default.PropTypes.bool,mailtoUrl:o.default.PropTypes.string,tellfriendQueryString:o.default.PropTypes.string,topServices:o.default.PropTypes.array,trackUrlForCopyLink:o.default.PropTypes.string,translations:o.default.PropTypes.object},getDefaultProps:function(){return{customServicesCss:{},isBrandingReduced:!1,initialInnerPane:"expanded",initiallyLoadAllServices:!1,initialMenuType:"share",initialTotalServices:{},isInitiallyHidden:!1,isLoading:!1,isRenderingToString:!1,isStandalone:!1,tellfriendQueryString:"",topServices:[]}},getInitialState:function(){return E.default({},this.resetStateFromProps(this.props),{forceRefreshServices:!1,maxListHeight:null,menuBodyTop:null,visiblePageHeight:null,visiblePageWidth:null})},componentWillMount:function(){this.props.isRenderingToString||(this.setupEvents(),this.setPositionInformation(null,!this.state.isHidden),this.state.isHidden||(x.default(document.body,"at-expanded-menu-noscroll"),x.default(document.documentElement,"at-expanded-menu-noscroll")),this.setState({addthisHref:p.default("AddThis expanded menu")}))},componentWillReceiveProps:function(e){this.props.isStandalone&&this.setState(this.resetStateFromProps(e))},componentDidUpdate:function(e,t){t.isHidden&&!this.state.isHidden?(x.default(document.body,"at-expanded-menu-noscroll"),x.default(document.documentElement,"at-expanded-menu-noscroll"),document.getElementById("at-expanded-menu-bd").scrollTop=0):!t.isHidden&&this.state.isHidden&&(document.body.className=this.props.documentBodyClassName||"",document.documentElement.className=this.props.documentElementClassName||"")},componentWillUnmount:function(){this.teardownEvents(),document.body.className=this.props.documentBodyClassName,document.documentElement.className=this.props.documentElementClassName},resetStateFromProps:function(e){var t=e.initiallyLoadAllServices,n=e.initialMenuConfig,r=e.initialMenuShare,i=e.initialMenuType,a=e.initialInnerPane,o=e.initialTotalServices,s=e.isInitiallyHidden;return{currentMenuConfig:n,currentMenuShare:r,currentMenuType:i,currentInnerPane:a,currentTotalServices:o,isHidden:s,loadAllServices:t,partitionServices:"follow"!==i}},setupEvents:function(){var e=this.props.eventDispatcher;e.addEventListener("addthis.expanded.reopen",this.handleReopenMenu),ne?window.addEventListener("orientationchange",this.resetPositionAfterOrientationChange):(_.default.setup(e),e.addEventListener("addthis.events.resize",this.setPositionInformation))},teardownEvents:function(){var e=this.props.eventDispatcher;e.removeEventListener("addthis.expanded.reopen",this.handleReopenMenu),ne?window.removeEventListener("orientationchange",this.resetPositionAfterOrientationChange):e.removeEventListener("addthis.events.resize",this.setPositionInformation)},getServicesData:function(e,t,n,r,i){var a=U.default(r,t,n);return{servicesDataMap:a,services:q.default(e,a,i)}},getBoundaryInformation:function(){return{visiblePageHeight:v.default(),visiblePageWidth:y.default(),menuBodyTop:S.default().y}},getMaxListHeight:function(e){return e.visiblePageHeight},getTellfriendData:function(e,t){var n=void 0;n=this.props.isStandalone?this.props.tellfriendQueryString:H.default("email",0,e,t).split("?").pop();var r=w.default(n);return["title","url","ui_email_to","ui_email_from","ui_email_note","screenshot","email_vars"].forEach(function(e){r[e]=decodeURIComponent(A.default(e,n)),"email_vars"===e&&r.email_vars&&(r.email_vars=r.email_vars.split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n=t[0],r=t[1];return e[n]=decodeURIComponent(r),e},{}))}),r},setPositionInformation:function(e,t,n){var r=this,i=this.getBoundaryInformation(),a=i.visiblePageWidth,o=i.visiblePageHeight,s=i.menuBodyTop,l=void 0;if(t){var u=function(){r.isMounted()&&r.setState({maxListHeight:r.getMaxListHeight(i)})};window.requestAnimationFrame?window.requestAnimationFrame(u):setTimeout(u,16),l={menuBodyTop:s,visiblePageHeight:o,visiblePageWidth:a}}else l={visiblePageHeight:o,visiblePageWidth:a,menuBodyTop:s,maxListHeight:this.getMaxListHeight(i)};n&&(l=E.default(l,n)),this.setState(l)},toggleMenu:function(e,t){if(t=t||{},this.props.isStandalone&&"click"===t.type)return null!==k.default(".at-expanded-menu-close",t.target)?(this.props.handleClose&&this.props.handleClose(),window.close()):t.stopPropagation();var n=t.pane?{currentInnerPane:t.pane}:{};if(!e)return this.props.eventDispatcher.fire("addthis.menu.close",window.addthis||{},{pane:this.state.currentInnerPane}),this.setState(E.default(n,{isHidden:!0}));var r=E.default(!0,n,{currentMenuConfig:t.menuConfig||this.state.currentMenuConfig||{},currentMenuShare:t.menuShare||this.state.currentMenuShare||{},currentMenuType:t.menuType||this.state.currentMenuType||"share",currentTotalServices:t.totalServices||this.state.currentTotalServices||{},forceRefreshServices:t.menuType!==this.state.currentMenuType,isHidden:!1,partitionServices:"follow"!==t.menuType});return this.setPositionInformation(null,!0,r)},trackLinkClick:function(e){e.stopPropagation(),this.props.eventDispatcher.fire("addthis.expanded.monitor.at-link-click")},handleLoadAllServices:function(){this.setState({loadAllServices:!0})},handleShare:function(e,t){if(t&&t.stopPropagation(),!e)return void(ne||this.props.isStandalone||this.toggleMenu(!1));this.props.isStandalone&&"link"===e&&this.setState({currentInnerPane:"link"});var n=this.state,r=n.currentMenuType,i=n.currentMenuShare,a=n.currentMenuConfig;if(this.props.handleShare)this.props.handleShare(e,i,a,r),"mailto"===e&&this.props.mailtoUrl&&(window.location.href=this.props.mailtoUrl);else if("follow"===r){var o=i._expandedMenuFollowServices||[],s=o.filter(function(t){return t.service===e}).reduce(function(e){return e});d.default(e,s||{},"smlmo-1.0",i,a,{track:!0,clone:!0})}else{var u=E.default(!0,{},i,a,{defaultShareToNewTab:!0});l.default(e,u)}this.props.eventDispatcher.fire("addthis.expanded.monitor.share"),ne||this.props.isStandalone||this.toggleMenu(!1)},handleReopenMenu:function(e){this.toggleMenu(!0,e.data||{})},handleEscape:function(e){27!==e.keyCode||ne||this.toggleMenu(!1)},getHeaderData:function(e){if(this.props.isRenderingToString)return{shareTitle:"{{shareTitle}}",shareURL:"{{shareURL}}",shareHeading:"{{shareHeading}}"};e||(e={});var t=e,n=t.url,r=void 0===n?"":n,i=t.title,a=void 0===i?"":i,o=t.shareHeading,s=void 0===o?"":o;return{shareHeading:s,shareTitle:a,shareURL:r}},getInnerElement:function(){if(this.props.isLoading)return o.default.createElement(X.default,null);var e=this.state,t=e.currentMenuConfig,n=e.currentMenuShare,r=e.isHidden,a=e.menuBodyTop,s=this.getHeaderData(n),l=s.shareHeading,u=s.shareTitle,d=s.shareURL,c=this.props.translations,p=void 0===c?{}:c;switch(this.state.currentInnerPane){case"email":return o.default.createElement(G.default,i({atc:t,ats:n,eventDispatcher:this.props.eventDispatcher,isHidden:r,isMobile:ne,mainHeading:l||p.emailAFriend||L.default("Email",4),toggleMenu:this.toggleMenu,translations:p},this.getTellfriendData(n,t)));case"link":return o.default.createElement(K.default,{isMobile:ne,isStandalone:this.props.isStandalone,mainHeading:l||p.copyLink,menuBodyTop:a,menuConfig:t,menuShare:n,shareTitle:u,shareURL:d,trackURL:this.props.trackUrlForCopyLink});case"expanded":var f=this.props,h=f.topServices,m=f.customServicesCss,v=this.state,g=v.currentMenuType,y=v.currentTotalServices,b=v.maxListHeight,S=v.visiblePageHeight,T=v.visiblePageWidth,x="follow"===g,P=this.getServicesData(y,h,m,t,x),_=P.services,C=P.servicesDataMap,E=Object.keys(C.expanded).length>0,N=l||p[g]||(x?L.default("Follow",96):L.default("Share",91));return o.default.createElement(z.default,{forceRefreshServices:this.state.forceRefreshServices,handleLoadAllServices:this.handleLoadAllServices,handleShare:this.handleShare,iconRenderIncrement:J,isHidden:r,isMobile:ne,isRenderingToString:this.props.isRenderingToString,loadAllServices:this.state.loadAllServices,mainHeading:N,maxListHeight:b,maxTopServices:te,menuBodyTop:a,numIconsToInitiallyRender:ee,partitionServices:this.state.partitionServices,shareTitle:u,shareURL:d,services:_,servicesDataMap:C,translations:p,userSpecifiedExpanded:E,visiblePageHeight:S,visiblePageWidth:T})}},getFade:function(){return"expanded"!==this.state.currentInnerPane||h.default("ie10")||h.default("ie9")||h.default("ie8")?null:o.default.createElement("div",{className:"at-expanded-menu-fade"})},getPrivacyLink:function(){if("email"!==this.state.currentInnerPane)return null;var e=this.props.translations,t=void 0===e?{}:e;return o.default.createElement("span",{className:"at-expanded-menu-privacy-link"},o.default.createElement("a",{href:"//www.addthis.com/privacy",target:"_blank",title:"AddThis Privacy Information"},t.privacy||L.default("Privacy",24)))},render:function(){var e=this.props,t=e.isBrandingReduced,n=e.isRenderingToString,r=e.isStandalone,i="";return ne?i+="at-expanded-menu-mobile":h.default("saf")&&(i+="at-expanded-menu-safari"),r&&(i+=" at-expanded-menu-standalone"),(this.state.isHidden||n)&&(i+=" at-expanded-menu-hidden"),o.default.createElement("div",{id:"at-expanded-menu-container",className:i,role:"dialog",ariaLabeledby:"at-expanded-menu-title",tabIndex:"0",ref:"menuContainer",onKeyDown:this.handleEscape},o.default.createElement("button",{className:"at-expanded-menu-close","aria-label":"Close",onClick:this.toggleMenu.bind(this,!1)},o.default.createElement("span",null,"×")),o.default.createElement("div",{className:"at-win-mask at-expanded-menu-mask",onClick:this.toggleMenu.bind(this,!1)}),this.getInnerElement(),o.default.createElement(Q.default(o.default.createElement.bind(o.default),o.default.Component),{campaign:"AddThis expanded menu",handleClick:this.trackLinkClick,isBrandingReduced:t,isRenderingToString:n,supplementalClass:"at-expanded-menu-branding",url:this.state.addthisHref},null),this.getPrivacyLink(),this.getFade())}}),e.exports=t.default},458:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){n.e(213,function(){n(459),e&&e()})}t.__esModule=!0,t.default=i;var a=n(81);r(a);e.exports=t.default},499:function(e,t,n){"use strict";var r=n(498),i=n(5);e.exports=function(){var e=document.documentElement||{},t=window.screen,n=0;return i("mob")&&r(t.availWidth)?n=t.availWidth:r(window.innerWidth)?n=window.innerWidth:r(e.clientWidth)&&(n=e.clientWidth),n}},500:function(e,t){"use strict";function n(){return{x:void 0!==window.pageXOffset?window.pageXOffset:document.documentElement?document.documentElement.scrollLeft:document.body.scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:document.documentElement?document.documentElement.scrollTop:document.body.scrollTop}}t.__esModule=!0,t.default=n,e.exports=t.default},501:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return window.outerHeight||c.default()}function a(){return window.outerWidth||f.default()}function o(){return{outerHeight:i(),innerHeight:c.default(),outerWidth:a(),innerWidth:f.default()}}t.__esModule=!0;var s=n(23),l=n(502),u=r(l),d=n(497),c=r(d),p=n(499),f=r(p),h=n(9),m=r(h),v="resize",g=!1,y={setup:function(e,t){g||(g=!0,this._setDimensions(o()),this._dispatcher=e||addthis.ed,this._namespace=t||"addthis.events",this._listener=u.default({fn:this._listener,ms:100,context:this}),s.listen(window,v,this._listener))},teardown:function(){g=!1,s.unlisten(window,v,this._listener)},_setDimensions:function(e){for(var t in e)e.hasOwnProperty(t)&&(this["_"+t]=e[t])},_listener:function(){var e=o(),t=m.default(e,function(e,t,n){return e?e:t!==this["_"+n]},!1,this);t&&(this._dispatcher.fire(this._namespace+"."+v,null,e),this._setDimensions(e))},_outerHeight:null,_innerHeight:null,_outerWidth:null,_innerWidth:null,_dispatcher:null,_namespace:null};t.default=y,e.exports=t.default},502:function(e,t){"use strict";e.exports=function(e){e=e||{};var t="function"==typeof e.fn?e.fn:function(){},n="number"==typeof e.ms?e.ms:100,r=e.context||this,i=e.immediate||!1,a=null;return i?function(){a?clearTimeout(a):t.apply(r,arguments),a=setTimeout(function(){a=null},n)}:function(){var e=arguments;clearTimeout(a),a=setTimeout(function(){a=null,t.apply(r,e)},n)}}},504:function(e,t,n){"use strict";var r=n(505);e.exports=function e(t,n){return n&&(n instanceof Element||1===n.nodeType)?null===t||"undefined"==typeof t?n:"string"!=typeof t?null:r(n,t)?n:e(t,n.parentNode):null}},505:function(e,t){"use strict";e.exports=function(e,t){var n=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;if(n)return n.call(e,t);for(var r=(e.document||e.ownerDocument).querySelectorAll(t),i=r.length;--i>=0&&r.item(i)!==e;);return i>-1}},506:function(e,t){"use strict";function n(e,t){var n=new RegExp(e+"=(.*?)(?:&|$)"),r=n.exec(t);return r?r[1]:""}t.__esModule=!0,t.default=n,e.exports=t.default},507:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return u.default(e,function(e,n){if(!(n.name&&n.url&&n.icon))return e;if(!n.code)try{n.code=n.url.split("//").pop().split("?").shift().split("/").shift().toLowerCase()}catch(e){d.warn("A service code was not supplied for the custom service "+n.name+", and we were unable to generate one from the service URL ("+n.url+"). Skipping this service.")}return e.services[n.code]=n.name,e.mungedServiceCodes[s.default(n.code)]=n.code,e.css[n.code]=t[n.code]||{"background-image":"url("+n.icon+")","background-repeat":"no-repeat","background-position":"top left","background-color":"transparent !important","background-size":"84px",width:"84px",height:"84px"},e},{services:{},mungedServiceCodes:{},css:{}})}function a(e,t,n){var r=e.services_expanded?e.services_expanded.split(/\,\s*/):[],a=e.services_exclude?e.services_exclude.split(/\,\s*/):[],o=e.services_custom||[],s=function(e,t){return e[t]=!0,e};return{top:t.slice(0,c.MAX_TOP_SERVICES).reduce(s,{}),expanded:r.reduce(s,{}),exclude:a.reduce(s,{}),custom:i(o,n)}}t.__esModule=!0,t.default=a;var o=n(368),s=r(o),l=n(9),u=r(l),d=n(13),c=n(473);e.exports=t.default},508:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var r=n?m.default({},e,t.custom.services):e,i=T.default("mob");return c.default(r,function(e){return!(t.exclude[e]||i&&g.default(x,e))})}function a(e){var t=f.default(e,function(e,t){return[t,e]}).sort(function(e,t){var n=e[1].toLowerCase().replace(/^the /,""),r=t[1].toLowerCase().replace(/^the /,"");return n<r?-1:n>r?1:0});return f.default(t,function(e){return e[0]})}function o(e,t){return u.default(e,function(e,r){var i=n(510),a=i(r)||t[r];return a&&e.push({code:r,name:a}),e},[])}function s(e,t,n){var r=i(e,t,!0),s=Object.keys(t.expanded).length>0,l=[];if(s){var u=Object.keys(t.expanded);l=o(u,r)}else{var d=a(r),c=n?[]:i(t.top,t,!1),p=b.default(Object.keys(c),d);l=o(p,r)}return l}t.__esModule=!0,t.default=s;var l=n(9),u=r(l),d=n(46),c=r(d),p=n(45),f=r(p),h=n(8),m=r(h),v=n(509),g=r(v),y=n(325),b=r(y),S=n(5),T=r(S),x=["favorites","compact"];e.exports=t.default},510:function(e,t,n){var r=n(66),i={email:{english:"Email",stringKey:4},favorites:{english:"Favorites",stringKey:5},print:{english:"Print",stringKey:22},domaintoolswhois:{english:"Whois Lookup",stringKey:106},w3validator:{english:"HTML Validator",stringKey:107},mailto:{english:"Email App",stringKey:108},cleansave:{english:"Save",stringKey:109},link:{english:"Copy Link",stringKey:110}};e.exports=function(e){return"object"==typeof i[e]&&r(i[e].english,i[e].stringKey)}},511:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(385),o=r(a),s=n(8),l=r(s),u=n(502),d=r(u),c=n(512),p=r(c),f=n(5),h=r(f),m=n(513),v=r(m),g=n(514),y=r(g),b=n(515),S=r(b),T=window.requestAnimationFrame||function(e){return setTimeout(e,16)};t.default=o.default.createClass({displayName:"ExpandedMenuServices",_incrementalRenderTimeoutId:null,_scrollRequestAnimationId:null,propTypes:{forceRefreshServices:o.default.PropTypes.bool,handleLoadAllServices:o.default.PropTypes.func.isRequired,handleShare:o.default.PropTypes.func.isRequired,iconRenderIncrement:o.default.PropTypes.number.isRequired,isHidden:o.default.PropTypes.bool,isMobile:o.default.PropTypes.bool,isRenderingToString:o.default.PropTypes.bool,loadAllServices:o.default.PropTypes.bool,mainHeading:o.default.PropTypes.string,maxListHeight:o.default.PropTypes.number,maxTopServices:o.default.PropTypes.number.isRequired,menuBodyTop:o.default.PropTypes.number,numIconsToInitiallyRender:o.default.PropTypes.number.isRequired,services:o.default.PropTypes.array.isRequired,servicesDataMap:o.default.PropTypes.object.isRequired,partitionServices:o.default.PropTypes.bool.isRequired,translations:o.default.PropTypes.object,userSpecifiedExpanded:o.default.PropTypes.bool,visiblePageHeight:o.default.PropTypes.number,visiblePageWidth:o.default.PropTypes.number},getDefaultProps:function(){return{forceRefreshServices:!1,isHidden:!1,isMobile:!1,isRenderingToString:!1,loadAllServices:!1,mainHeading:"Share",maxListHeight:null,services:[],servicesDataMap:{custom:{}},userSpecifiedExpanded:!1,visiblePageHeight:null}},getInitialState:function(){var e=this.props,t=e.numIconsToInitiallyRender,n=e.loadAllServices,r=e.services;return{filterHeight:null,filterText:"",filterValue:"",headerHeight:null,isFilterFixed:!1,numIconsToRender:t,refocusInput:!1,servicesToShow:this.getServicesToShow(r,"",t,n)}},componentWillMount:function(){this.props.isRenderingToString||(this.filterServices=d.default({fn:this.filterServices,ms:100}))},componentDidMount:function(){var e=this;this.props.isMobile||h.default("saf")?T(function(){e.isMounted()&&e.setState({headerHeight:e.getHeaderHeight()})}):this.shouldQueueRender()&&this.queueNextIncrementalRender()},componentWillReceiveProps:function(e){var t=this.props,n=t.loadAllServices,r=t.isHidden,i=t.isMobile,a=t.services,o=e.forceRefreshServices&&!this.props.forceRefreshServices;if(o||!n&&e.loadAllServices||a.length!==e.services.length){var s=this.state,l=s.filterValue,u=s.numIconsToRender;this.setState({refocusInput:!i,servicesToShow:this.getServicesToShow(e.services,l,u,e.loadAllServices)})}else r===e.isHidden||i||this.setState({refocusInput:!e.isHidden})},shouldComponentUpdate:function(e,t){var n=["services","servicesDataMap","servicesToShow"],r={props:e,state:t},i=!1;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];for(var s in o){var l=o[s],u=this[a][s];if(i=n.indexOf(s)===-1?l!==u:JSON.stringify(l)!==JSON.stringify(u))break}if(i)break}return i},componentDidUpdate:function(e,t){return t.filterText!==this.state.filterText?this.filterServices():void(this.shouldQueueRender()&&this.queueNextIncrementalRender())},shouldQueueRender:function(){return this.props.loadAllServices&&!this.state.filterValue&&this.state.numIconsToRender<this.props.services.length},queueNextIncrementalRender:function(){this._incrementalRenderTimeoutId=T(this.renderIconsIncrementally)},renderIconsIncrementally:function(){var e=this.state,t=e.filterValue,n=e.numIconsToRender,r=n+this.props.iconRenderIncrement;this.isMounted()&&this.setState({numIconsToRender:r,servicesToShow:this.getServicesToShow(this.props.services,t,r,this.props.loadAllServices)})},filterServices:function(){var e=this.state.filterText,t=this.props.numIconsToInitiallyRender,n=this.props.loadAllServices;!this.isMounted()||e===this.state.filterValue&&t===this.state.numIconsToRender||this.setState({filterValue:e,numIconsToRender:t,servicesToShow:this.getServicesToShow(this.props.services,e,t,n)})},handleFilterTextChange:function(e){clearTimeout(this._incrementalRenderTimeoutId),this._incrementalRenderTimeoutId=null,this.setState({filterText:e.target.value})},handleServiceScroll:function(){this._scrollRequestAnimationId||(this._scrollRequestAnimationId=T(this.makeScrollAdjustments))},makeScrollAdjustments:function(){this._scrollRequestAnimationId=null;var e=this.state.isFilterFixed,t=10;if(e){var n=this.state.headerHeight-this.state.filterHeight+30;this.refs.expandedMenu.scrollTop<=n&&this.setState({isFilterFixed:!1,filterHeight:null,headerHeight:null})}else{var r=this.refs.expandedMenu.querySelector("#at-expanded-menu-filter-form");if(r){var i=r.getBoundingClientRect();i&&i.top<=t&&this.setState({isFilterFixed:!0,filterHeight:i.height,headerHeight:this.getHeaderHeight()})}}},getHeaderHeight:function(){var e=this.refs.expandedMenu.querySelector("#at-expanded-menu-hd");return e.getBoundingClientRect().height},getServicesToShow:function(e,t,n,r){var i=(t||"").trim();if(!i)return e.slice(0,r?n:this.props.maxTopServices);var a=p.default(i).toLowerCase(),o=void 0;return o=0===a.indexOf(".")?new RegExp("(?:\\s|^)"+a):new RegExp("\\b"+a),e.filter(function(e){var t=e.code,n=e.name,r=n.toLowerCase().replace(/^the /,"");return o.test(t)||o.test(r)})},render:function(){var e=this.props,t=e.handleShare,n=e.isMobile,r=e.isRenderingToString,a=e.loadAllServices,s=e.mainHeading,u=e.maxListHeight,d=e.menuBodyTop,c=e.servicesDataMap,p=e.shareTitle,f=e.shareURL,m=e.translations,g=e.userSpecifiedExpanded,b=e.visiblePageHeight,T=e.visiblePageWidth,x=this.state,P=x.filterText,_=x.filterValue,C=x.isFilterFixed,E=x.refocusInput,N=x.servicesToShow,w=r||!a&&!_&&this.props.services.length>this.props.maxTopServices,M=void 0,k={};if(n&&!r)M="54px";else if(!r){var R=l.default({},null!==d?{top:d}:{});if(h.default("saf"))R.top+=65,k={style:R};else{if(null!==u&&(R.maxHeight=u),C){var L=this.state.filterHeight;l.default(R,{marginTop:L,maxHeight:(R.maxHeight||b)-L})}k={onScroll:this.handleServiceScroll,style:R}}M=b<801||T<640?"64px":"84px"}return o.default.createElement("div",i({ref:"expandedMenu",className:"at-expanded-menu at-expanded-menu-round"},k),o.default.createElement(v.default,{isMobile:n,mainHeading:s,shareTitle:p,shareURL:f},o.default.createElement(y.default,{filterText:P,firstServiceCode:(N[0]||{}).code,handleFilterTextChange:this.handleFilterTextChange,handleShare:t,isFilterFixed:C,isMobile:n,refocusInput:E,translations:m})),o.default.createElement(S.default,{handleLoadAllServices:this.props.handleLoadAllServices,handleShare:t,headerHeight:this.state.headerHeight,iconSize:M,isMobile:n,isRenderingToString:r,services:N,servicesDataMap:c,showFooter:w,partitionServices:this.props.partitionServices,translations:m,userSpecifiedExpanded:g,visiblePageHeight:b}))}}),e.exports=t.default},512:function(e,t){"use strict";e.exports=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}},513:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(385),a=r(i),o=n(39),s=r(o);t.default=a.default.createClass({displayName:"ExpandedMenuHeader",mixins:[s.default],propTypes:{children:a.default.PropTypes.element,isMobile:a.default.PropTypes.bool,mainHeading:a.default.PropTypes.string.isRequired,shareTitle:a.default.PropTypes.string.isRequired,shareURL:a.default.PropTypes.string.isRequired},getDefaultProps:function(){return{children:null,isMobile:!1}},squashClick:function(e){e.stopPropagation()},getSubHeadings:function(){return this.props.isMobile?null:a.default.createElement("div",null,a.default.createElement("span",{className:"at-expanded-menu-page-title"},this.props.shareTitle),a.default.createElement("span",{className:"at-expanded-menu-page-url"},this.props.shareURL))},render:function(){return a.default.createElement("div",{id:"at-expanded-menu-hd",className:"at-expanded-menu-hd",onClick:this.squashClick},a.default.createElement("span",{id:"at-expanded-menu-title",className:"at-expanded-menu-title"},this.props.mainHeading),this.getSubHeadings(),this.props.children)}}),e.exports=t.default},514:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(385),a=r(i),o=n(39),s=r(o),l=n(66),u=r(l);t.default=a.default.createClass({displayName:"ExpandedMenuFilter",propTypes:{filterText:a.default.PropTypes.string,firstServiceCode:a.default.PropTypes.string,isFilterFixed:a.default.PropTypes.bool,isMobile:a.default.PropTypes.bool,handleFilterTextChange:a.default.PropTypes.func.isRequired,handleShare:a.default.PropTypes.func.isRequired,refocusInput:a.default.PropTypes.bool,translations:a.default.PropTypes.object},mixins:[s.default],getDefaultProps:function(){return{filterText:"",isFilterFixed:!1,isMobile:!1,refocusInput:!1}},getInitialState:function(){return{hasLostFocus:!1}},componentDidUpdate:function(){this.props.refocusInput&&this.refs.filterInput.focus()},setHasLostFocus:function(e){var t="relatedTarget"in e?e.relatedTarget:window.event.toElement,n=null===t||"at-expanded-menu-load-btn"===t.id;this.state.hasLostFocus||n||this.setState({hasLostFocus:!0})},handleShare:function(e){e.preventDefault(),this.props.firstServiceCode&&this.props.handleShare(this.props.firstServiceCode)},render:function(){var e="at-expanded-menu-search-input"+(this.state.hasLostFocus?"":" initial-render"),t="at-expanded-menu-search"+(this.props.filterText?" at-expanded-menu-search-filled":""),n=this.props.isFilterFixed?{position:"fixed",top:10}:{},r=this.props.translations,i=void 0===r?{}:r;return a.default.createElement("form",{id:"at-expanded-menu-filter-form",onSubmit:this.handleShare,style:n},a.default.createElement("div",{id:"at-expanded-menu-filter",role:"search",className:t},a.default.createElement("input",{ref:"filterInput",type:"text",size:"30",maxLength:"50",autoFocus:!this.props.isMobile,autoComplete:"off",id:"at-expanded-menu-service-filter",className:e,onChange:this.props.handleFilterTextChange,onBlur:this.setHasLostFocus,value:this.props.filterText}),a.default.createElement("label",{htmlFor:"at-expanded-menu-service-filter",className:"at-expanded-menu-search-label"},a.default.createElement("span",{className:"at-expanded-menu-search-label-content"},i.findAService||u.default("Find a service",35))),a.default.createElement("span",{className:"at-expanded-menu-search-icon"})))}}),e.exports=t.default},515:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(66),o=r(a),s=n(385),l=n(39),u=n(9),d=n(46),c=n(5),p=n(81),f=n(71),h=n(455),m=n(78),v=n(516),g=n(517),y=n(518),b=n(519),S={ALL:"ALL",TOP:"TOP",STANDARD:"STANDARD"},T=s.createClass({displayName:"ExpandedMenuServicesList",propTypes:{handleLoadAllServices:s.PropTypes.func.isRequired,handleShare:s.PropTypes.func.isRequired,headerHeight:s.PropTypes.number,iconSize:s.PropTypes.string,isMobile:s.PropTypes.bool,isRenderingToString:s.PropTypes.bool,partitionServices:s.PropTypes.bool.isRequired,services:s.PropTypes.array.isRequired,servicesDataMap:s.PropTypes.object.isRequired,showFooter:s.PropTypes.bool.isRequired,translations:s.PropTypes.object,userSpecifiedExpanded:s.PropTypes.bool,visiblePageHeight:s.PropTypes.number},mixins:[l],_serviceIcons:{},getDefaultProps:function(){return{headerHeight:0,iconSize:"64px",isMobile:!1,isRenderingToString:!1,translations:{},userSpecifiedExpanded:!1}},componentWillMount:function(){this._serviceIcons={}},componentWillUpdate:function(e){this.props.iconSize!==e.iconSize&&(this._serviceIcons={})},getServiceIconGetter:function(e){var t=this;return p?function(t){var n=e[t];return n?h(t,n):null}:function(n,r){var i=e[n];return i?h(n,i):f({code:n,alt:r,title:r,size:t.props.iconSize})}},getServicesPartition:function(e){if(e===S.ALL)return this.props.services;var t=this.props.servicesDataMap.top;return d(this.props.services,function(n,r){var i=r.code;return!!i&&(e===S.TOP?t[i]:!t[i])})},getServicesListItems:function(e){var t=this.props.servicesDataMap,n=t.custom.css,r=this.getServiceIconGetter(n),a=this.getServicesPartition(e),o=this.props,l=o.iconSize,d=o.translations;return u(a,function(e,a){var o=a.code,u=a.name;if(!this._serviceIcons[o]){var c=p&&!n[o],f=c?null:r(o,u);if(!c&&!f)return e;var h={classes:{buttonClass:"at-expanded-menu-button",labelClass:"at-expanded-menu-button-label"},code:o,handleShare:this.props.handleShare.bind(null,o),isTopService:Boolean(t.top[o]),key:o,name:d[o]||u};this._serviceIcons[o]=c?s.createElement(v,i({iconWrapperStyles:{width:l,height:l,lineHeight:l,backgroundColor:m(o)}},h)):s.createElement(g,i({icon:f},h))}return e.push(this._serviceIcons[o]),e},[],this)},getPlaceholderListItems:function(){for(var e=[],t=0;t<10;t++)e.push(s.createElement(y,{key:t}));return e},getFooter:function(){return this.props.showFooter?s.createElement(b,{handleLoadAllServices:this.props.handleLoadAllServices,isRenderingToString:this.props.isRenderingToString,translations:this.props.translations}):null},getPlaceholderBody:function(){var e=this.props.translations,t=void 0===e?{}:e;return s.createElement("div",{id:"at-expanded-menu-bd"},s.createElement("h4",{className:"at-expanded-menu-top-services-header"},t.topServices||o.default("Top Services",111)),s.createElement("ul",{id:"at-expanded-menu-top-service-list-container",className:"at-expanded-menu-service-list",role:"menu"},this.getPlaceholderListItems()),this.getFooter())},getUnPartitionedBody:function(){return s.createElement("div",{id:"at-expanded-menu-bd",onClick:this.handleMaskClick,style:this.getBodyInlineStyles()},s.createElement("ul",{id:"at-expanded-menu-service-list-container",className:"at-expanded-menu-service-list",role:"menu"},this.getServicesListItems(S.ALL)),this.getFooter())},getBodyInlineStyles:function(){var e={};return this.props.isMobile?e={overflowY:"auto",top:this.props.headerHeight}:c("saf")&&this.props.visiblePageHeight&&(e={maxHeight:this.props.visiblePageHeight-this.props.headerHeight-65}),e},handleMaskClick:function(e){return e&&e.target&&"at-expanded-menu-load-btn"===e.target.id?e.stopPropagation():void this.props.handleShare(null)},render:function(){if(this.props.isRenderingToString)return this.getPlaceholderBody();if(this.props.userSpecifiedExpanded||!this.props.partitionServices)return this.getUnPartitionedBody();var e=this.getServicesListItems(S.TOP),t=this.getServicesListItems(S.STANDARD),n=0===e.length,r=e.length>=this.props.services.length,i="at-expanded-menu-top-services-header"+(n?" at-expanded-menu-hidden":""),a="at-expanded-menu-service-list"+(n?" at-expanded-menu-hidden":""),l="at-expanded-menu-service-list"+(r?" at-expanded-menu-hidden":"")+(n?"":" border-before"),u=this.props.translations,d=void 0===u?{}:u;return s.createElement("div",{id:"at-expanded-menu-bd",dir:"ltr",onClick:this.handleMaskClick,style:this.getBodyInlineStyles()},s.createElement("span",{className:i},d.topServices||o.default("Top Services",111)),s.createElement("ul",{id:"at-expanded-menu-top-service-list-container",className:a,role:"menu"},e),s.createElement("ul",{id:"at-expanded-menu-service-list-container",className:l,role:"menu"},t),this.getFooter())}});t.default=T,e.exports=t.default},516:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(385),a=n(39),o=n(71),s=i.createClass({_iconElement:null,_isMounted:!1,displayName:"ServiceIconListItem",propTypes:{classes:i.PropTypes.shape({buttonClass:i.PropTypes.string,labelClass:i.PropTypes.string}),handleShare:i.PropTypes.func.isRequired,iconWrapperStyles:i.PropTypes.object,isTopService:i.PropTypes.bool,code:i.PropTypes.string.isRequired,name:i.PropTypes.string.isRequired},mixins:[a],getDefaultProps:function(){return{classes:{},iconWrapperStyles:{},isTopService:!1}},getInitialState:function(){return{iconLoaded:!1}},componentWillMount:function(){this._iconElement=o(r({},this.props.iconWrapperStyles,{code:this.props.code,alt:this.props.name,loadedCallback:this.setIconLoaded}))},componentDidMount:function(){this._isMounted=!0},componentWillUnmount:function(){this._isMounted=!1},setIconLoaded:function(){this._isMounted&&this.setState({iconLoaded:!0})},render:function(){var e=this.props,t=e.code,n=e.name,r=e.iconWrapperStyles,a=e.isTopService,o=e.handleShare,s=e.classes,l="at3winsvc_"+t.replace(/\./g,"_dot_")+(a?" top-service":""),u=this._iconElement?this._iconElement.innerHTML:"",d=u+("<span class='at-icon-name'>"+n+"</span>");return i.createElement("li",{className:l,onClick:o},i.createElement("button",{"aria-label":n,className:""+(s.buttonClass||"")},i.createElement("span",{className:"at-icon-wrapper",style:r,dangerouslySetInnerHTML:{__html:d}})),i.createElement("span",{className:""+(s.labelClass||"")},n))}});t.default=s,e.exports=t.default},517:function(e,t,n){"use strict";t.__esModule=!0;var r=n(385),i=n(39),a=r.createClass({displayName:"ServiceIconListItem",propTypes:{classes:r.PropTypes.shape({buttonClass:r.PropTypes.string,labelClass:r.PropTypes.string}),handleShare:r.PropTypes.func.isRequired,icon:r.PropTypes.any.isRequired,isTopService:r.PropTypes.bool.isRequired,code:r.PropTypes.string.isRequired,name:r.PropTypes.string.isRequired},mixins:[i],getDefaultProps:function(){return{classes:{}}},componentDidMount:function(){this.refs.iconButton.firstChild||this.refs.iconButton.appendChild(this.props.icon)},render:function(){var e="at3winsvc_"+this.props.code.replace(/\./g,"_dot_")+(this.props.isTopService?" top-service":""),t=this.props.classes;return r.createElement("li",{className:e,onClick:this.props.handleShare},r.createElement("button",{className:""+(t.buttonClass||""),ref:"iconButton"}),r.createElement("span",{className:""+(t.labelClass||"")},this.props.name))}});t.default=a,e.exports=t.default},518:function(e,t,n){"use strict";function r(){var e={backgroundColor:"#848484",height:84,opacity:.6};return i.createElement("li",{style:e},i.createElement("button",{className:"at-expanded-menu-button"}),i.createElement("span",{className:"at-expanded-menu-button-label"}))}t.__esModule=!0,t.default=r;var i=n(385);e.exports=t.default},519:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(66),a=r(i),o=n(385),s=n(520),l=function(e){if(e.isRenderingToString)return o.createElement("div",{className:"at-expanded-menu-ft"},o.createElement("span",{className:"at-expanded-menu-ft-loading"},"Loading Services"),o.createElement(s,null));var t=e.translations,n=void 0===t?{}:t;return o.createElement("div",{className:"at-expanded-menu-ft"},o.createElement("button",{id:"at-expanded-menu-load-btn",onClick:e.handleLoadAllServices,className:"at-expanded-menu-load"},n.loadMore||a.default("Load More",112)))};l.displayName="ExpandedMenuFooter",l.propTypes={handleLoadAllServices:o.PropTypes.func.isRequired,isRenderingToString:o.PropTypes.bool,translations:o.PropTypes.object},t.default=l,e.exports=t.default},520:function(e,t,n){"use strict";t.__esModule=!0;var r=n(385),i=function(e){var t="loading-container "+(e.containerClass||"");return r.createElement("div",{className:t},r.createElement("div",{className:"loading-spinner"}))};i.displayName="Loading",i.propTypes={containerClass:r.PropTypes.string},t.default=i,e.exports=t.default},521:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(385),a=r(i),o=n(62),s=r(o),l=n(8),u=r(l),d=n(500),c=r(d),p=n(18),f=r(p),h=n(5),m=r(h),v=n(78),g=r(v),y=n(72),b=r(y),S=n(513),T=r(S),x=n(520),P=r(x),_=n(516),C=r(_),E={COMPOSING:"COMPOSING",SENDING:"SENDING",SENT:"SENT",FAILED_CAPTCHA:"FAILED_CAPTCHA",FAILED_OTHER:"FAILED_OTHER"},N=["suppress_response_code","url","title","note","to","from","dest","pub","uci"],w="https:"===document.location.protocol,M="6LdoDCATAAAAAKwbb6HL00uYkatkIToKU_K7VROP",k=["gmail","yahoomail","aolmail","hotmail"],R=["facebook","twitter","more"];t.default=a.default.createClass({displayName:"ExpandedMenuEmail",propTypes:{ats:a.default.PropTypes.object.isRequired,atc:a.default.PropTypes.object.isRequired,pub:a.default.PropTypes.string.isRequired,source:a.default.PropTypes.string.isRequired,captcha_provider:a.default.PropTypes.string,url:a.default.PropTypes.string.isRequired,title:a.default.PropTypes.string.isRequired,ate:a.default.PropTypes.string.isRequired,v:a.default.PropTypes.string,s:a.default.PropTypes.string,tt:a.default.PropTypes.string,screenshot:a.default.PropTypes.string,screenshot_secure:a.default.PropTypes.string,swfurl:a.default.PropTypes.string,swfurl_secure:a.default.PropTypes.string,ips:a.default.PropTypes.string,email_template:a.default.PropTypes.string,template:a.default.PropTypes.string,email_vars:a.default.PropTypes.object,shortener:a.default.PropTypes.string,shorteners:a.default.PropTypes.object,hideEmailSharingConfirmation:a.default.PropTypes.string,trackurl:a.default.PropTypes.string,uud:a.default.PropTypes.string,p32:a.default.PropTypes.any,ct:a.default.PropTypes.string,rxi:a.default.PropTypes.string,rsi:a.default.PropTypes.string,gen:a.default.PropTypes.string,xid:a.default.PropTypes.string,lng:a.default.PropTypes.string,ui_email_note:a.default.PropTypes.string,ui_email_to:a.default.PropTypes.string,ui_email_from:a.default.PropTypes.string,eventDispatcher:a.default.PropTypes.object.isRequired,isMobile:a.default.PropTypes.bool,isHidden:a.default.PropTypes.bool,mainHeading:a.default.PropTypes.string,toggleMenu:a.default.PropTypes.func.isRequired,translations:a.default.PropTypes.object},getDefaultProps:function(){return{isMobile:!1,isHidden:!1,mainHeading:"Email a Friend",title:"",translations:{},ui_email_note:"",ui_email_to:"",ui_email_from:""}},getInitialState:function(){return this.getDefaultState(!1)},componentWillReceiveProps:function(e){this.props.isHidden&&!e.isHidden&&this.state.controlState===E.SENT&&(this.setState(this.getDefaultState(!0)),grecaptcha&&grecaptcha.reset&&grecaptcha.reset())},componentDidMount:function(){var e=this;window.addthisRecaptchaLoadedCallback=function(){e.props.eventDispatcher.fire("addthis.recaptcha.loaded",{})};var t=this.props.lng||f.default(),n=document.createElement("script");n.src="https://www.google.com/recaptcha/api.js?onload=addthisRecaptchaLoadedCallback&render=explicit&hl="+t,document.body.appendChild(n),this.props.eventDispatcher.once("addthis.recaptcha.loaded",this.handleRecaptchaLoad)},componentWillUpdate:function(e,t){t.controlState!==E.SENT||"true"!==this.props.hideEmailSharingConfirmation&&this.props.hideEmailSharingConfirmation!==!0||window.close()},componentDidUpdate:function(e,t){var n=!t.captchaDidLoad&&this.state.captchaDidLoad||t.controlState===E.SENT&&this.state.controlState===E.COMPOSING;n&&"recaptcha2"===this.props.captcha_provider&&grecaptcha.render(this.refs.captchaContainer,{sitekey:M,callback:this.handleCaptchaResponse}),t.controlState!==E.SENDING&&this.state.controlState===E.SENDING&&this.sendEmail()},componentWillUnmount:function(){this.props.eventDispatcher.removeEventListener("addthis.recaptcha.loaded",this.handleRecaptchaLoad)},getDefaultState:function(e){var t=this.props,n=t.ui_email_to,r=t.ui_email_from,i=t.ui_email_note,a=t.screenshot;return{captchaDidLoad:e,captchaResponse:"",controlState:E.COMPOSING,emailTo:n,emailFrom:r,emailNote:a?i+"\n\n"+a:i,failureMessage:"",fieldsWithErrors:[]}},formatPCO:function(e){if(e&&/^([a-zA-Z23]+-[0-9\.abmys]+,?)+$/.test(e)){var t=e.split(",");if(t.length>1)return t;var n=(t[0]||"").split("-"),r=n[0],i=void 0===r?"":r,a=n[1];if(i=0===i.indexOf("ffext")?"fxe":i,i&&a)return i+"-"+a}return""},handleChange:function(e,t){var n;if("emailSubject"===e||"emailNote"===e&&t.target.value.length>250||("emailTo"===e||"emailFrom"===e)&&t.target.value.length>50)return t.preventDefault();var r=this.state.fieldsWithErrors.indexOf(e),i=u.default({},(n={},n[e]=t.target.value,n.controlState=E.COMPOSING,n.failureMessage="",n),r!==-1?{fieldsWithErrors:this.state.fieldsWithErrors.filter(function(t){return t!==e})}:{});this.setState(i)},handleCaptchaResponse:function(e){this.setState({captchaResponse:e})},handleRecaptchaLoad:function(){this.isMounted()&&this.setState({captchaDidLoad:!0})},handleSubmit:function(e){e.preventDefault();var t=this.validateSubmission();t.length>0?this.setState({fieldsWithErrors:t.slice()}):this.setState({controlState:E.SENDING})},handleSendHttpSuccess:function(e){var t=this.props.translations,n=t.sendFailed,r=void 0===n?"Sorry, we couldn't send this email. Please try again in a few minutes.":n,i=t.captchaIncorrect,a=void 0===i?"Sorry, your response was incorrect.":i,o=void 0;try{o=JSON.parse(e.responseText)}catch(e){return this.setState({controlState:E.FAILED_OTHER,failureMessage:r})}return o.captchaError?this.setState({controlState:E.FAILED_CAPTCHA,failureMessage:a}):o.emailSent?this.setState({controlState:E.SENT}):this.setState({controlState:E.FAILED_OTHER,failureMessage:r})},handleSendHttpFailure:function(){var e=this.props.translations.sendFailed,t=void 0===e?"Sorry, we couldn't send this email. Please try again in a few minutes.":e;return this.setState({controlState:E.FAILED_OTHER,failureMessage:t})},handleShare:function(e,t){if(t.preventDefault(),"more"===e&&/bookmark\.php$/.test(window.location.pathname))return this.props.toggleMenu(!1);var n=s.default({url:this.props.url,title:this.props.title,pub:this.props.pub,ate:this.props.ate,ct:this.props.ct,trackurl:this.props.trackurl,s:e});window.location.href="/bookmark.php?"+n},validateSubmission:function(){var e=this,t=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;return["emailTo","emailFrom"].reduce(function(n,r){return t.test(e.state[r].trim())||n.push(r),n},[])},sendEmail:function(){var e=this,t=this.getDataToSend(),n=new XMLHttpRequest;n.open("GET","//www.addthis.com/api/tellfriend/get-share-json?"+s.default(t)),n.onreadystatechange=function(){4===n.readyState&&(n.status>=400||0===n.status?e.handleSendHttpFailure(n):e.handleSendHttpSuccess(n))},n.send(null)},getPropsToSend:function(){var e=this;return["url","title","pco","lng","ate","ct","rsi","rxi","gen","ips","pub","email_template","template","email_vars","shortener"].reduce(function(t,n){var r=void 0;switch(n){case"pco":r=e.formatPCO(e.props.source);break;case"title":r=e.props.title.trim()||e.state.emailTo+" has shared something with you";break;default:r=e.props[n]}return"email_vars"!==n&&(r||N.indexOf(n)>-1)?t["template"===n||"email_template"===n?"name":n]=r||"":"email_vars"===n&&!function(){var n=e.props.email_vars||{};Object.keys(n).forEach(function(e){t["var_"+e]=n[e]},{})}(),t},{})},getStateToSend:function(){var e=this;return Object.keys(this.state).filter(function(e){return/^email/.test(e)}).reduce(function(t,n){var r=n.split(/(?=[A-Z])/).pop().toLowerCase();return t[r]=(e.state[n]||"").trim(),t},{})},getDataToSend:function(){var e=this,t=this.getPropsToSend(),n=t.shortener?Object.keys(this.props).reduce(function(n,r){return 0===r.indexOf(t.shortener)&&r!==t.shortener&&(n[r]=e.props[r]),n},{}):{},r=this.getStateToSend();this.state.captchaResponse&&(r.recaptcha_response_field=this.state.captchaResponse);var i=u.default({suppress_response_codes:!0,dest:"email",uci:Math.round(2147483647*Math.random())},w?{ssl:1}:{});return u.default({},t,n,r,i,{captcha_provider:this.props.captcha_provider||"recaptcha2"})},getRecaptchaElement:function(){return!this.state.captchaDidLoad||this.state.controlState.SENDING?a.default.createElement(P.default,null):a.default.createElement("div",{ref:"captchaContainer",id:"at-expanded-menu-captcha-container"})},getOverlay:function(e){return e?a.default.createElement(P.default,{containerClass:"loading-container-as-overlay"}):null},getFailureMessage:function(e){return e?a.default.createElement("div",{className:"at-expanded-menu-email-error-message"},a.default.createElement("span",null,(this.props.translations.oops||"Oops!")+" "+e)):null},getDisclaimer:function(){var e=a.default.createElement("span",{className:"at-expanded-menu-email-disclaimer-permission"},""+(this.props.translations.emailConfirmPermittedToSend||"By sending, I affirm I am permitted to send this email.")),t=this.props.translations.euDisclaimer?a.default.createElement("span",{className:"at-expanded-menu-email-disclaimer-eu"},this.props.translations.euDisclaimer+" ",a.default.createElement("a",{href:"/privacy/privacy-policy#international",target:"_blank"},""+(this.props.translations.learnMore||"Learn More"))):null;return a.default.createElement("div",{className:"at-expanded-menu-email-disclaimer"},t,e)},getEmailForm:function(e){var t=this,n="at-expanded-menu-email-error-field",r=this.props.translations,i=["emailTo","emailFrom","emailSubject","emailNote"].map(function(i){var o=i.split(/(?=[A-Z])/),s=o.pop(),l="email-"+s.toLowerCase(),d=r[s.toLowerCase()]||s,c="emailNote"===i,p="emailSubject"===i,f=t.state.fieldsWithErrors.indexOf(i)!==-1,h=f?t.getFailureMessage((r.invalidEmailAddress||"Please enter a valid email address")+"."):null,m=a.default.createElement(c?"textarea":"input",u.default({id:"at-expanded-menu-"+l,value:p?t.props.title:t.state[i],onChange:t.handleChange.bind(t,i),disabled:e,required:!c,readOnly:p,"aria-readonly":p,className:f?n:""},c?{maxLength:250}:{maxLength:50,type:p?"text":"email"}));return a.default.createElement("div",{className:"at-expanded-menu-email-field",key:i},a.default.createElement("label",{htmlFor:"at-expanded-menu-"+l},d),m,h)});return a.default.createElement("form",{id:"at-expanded-menu-email-form",onSubmit:this.handleSubmit,noValidate:!0},this.getOverlay(e),i,this.getFailureMessage(this.state.failureMessage),this.getRecaptchaElement(),a.default.createElement("div",{className:"at-expanded-menu-email-btn-container"},a.default.createElement("button",{type:"submit",className:"at-expanded-menu-email-btn",disabled:e},r.send||"Send")),this.getDisclaimer())},getSuccessComponent:function(e){var t=this,n=e?"64px":"84px",r=this.props.translations,i=r.messageSent,o=void 0===i?"Message Sent!":i,s=r.shareAgain,l=void 0===s?"Share again.":s,u=R.map(function(e){return a.default.createElement(C.default,{key:e,iconWrapperStyles:{width:n,height:n,lineHeight:n,backgroundColor:g.default(e)},classes:{buttonClass:"at-expanded-menu-button",labelClass:"at-expanded-menu-button-label"},code:e,name:b.default(e),handleShare:t.handleShare.bind(t,e)})});return a.default.createElement("div",{className:"at-expanded-menu-email-success-container at-expanded-menu-round"},a.default.createElement("span",{className:"at-expanded-menu-email-success-message"},o+" "+l),a.default.createElement("ul",{className:"at-expanded-menu-service-list"},u))},getOtherEmailServices:function(){var e=this,t=k.map(function(t){return a.default.createElement(C.default,{key:t,code:t,name:b.default(t),handleShare:e.handleShare.bind(e,t),isTopService:!1,classes:{buttonClass:"at-expanded-menu-button",labelClass:"at-expanded-menu-button-label"},iconWrapperStyles:{height:32,width:32,lineHeight:32,backgroundColor:g.default(t)}})});return a.default.createElement("div",{className:"at-expanded-menu-email-other"},a.default.createElement("p",null,this.props.translations.sendWithDifferentServices||"Send this email with different services",":"),a.default.createElement("ul",{className:"at-expanded-menu-email-services"},t))},getFormBody:function(e){return e?a.default.createElement("div",{id:"at-expanded-menu-bd"},this.getEmailForm(this.state.controlState===E.SENDING),this.getOtherEmailServices()):a.default.createElement("div",null,a.default.createElement("div",{id:"at-expanded-menu-bd"},this.getEmailForm(this.state.controlState===E.SENDING)),this.getOtherEmailServices())},render:function(){if(this.state.controlState===E.SENT){var e=m.default("ie9")?{top:"25%"}:{};return a.default.createElement("div",{className:"at-expanded-menu",id:"at-expanded-menu-email-sent",style:e},a.default.createElement("div",{className:"at-expanded-menu-bd"},this.getSuccessComponent(this.props.isMobile)))}var t=this.props,n=t.isMobile,r=t.mainHeading,i=t.title,o=t.url,s=void 0===o?"":o,l={top:c.default().y};return a.default.createElement("div",{className:"at-expanded-menu at-expanded-menu-email",ref:"container",style:l},a.default.createElement(T.default,{isMobile:n,mainHeading:r,shareTitle:i,shareURL:s}),this.getFormBody(n))}}),e.exports=t.default},522:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var o=n(385),s=r(o),l=n(460),u=r(l),d=n(476),c=r(d),p=n(523),f=r(p),h=n(513),m=r(h),v=function(e){function t(n){i(this,t),e.call(this,n),this.state={showMessage:!1,trackUrl:n.trackURL||u.default("link",n.menuShare,n.menuConfig)},this.copyLink=this.copyLink.bind(this)}return a(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState({trackUrl:e.trackURL||u.default("link",e.menuShare,e.menuConfig)})},t.prototype.copyLink=function(){setTimeout(this.setState.bind(this,{showMessage:!1}),1e3),this.setState({showMessage:!0}),this.props.isStandalone||c.default("link",0,this.props.menuShare,this.props.menuConfig)},t.prototype.squashClick=function(e){e.stopPropagation()},t.prototype.render=function(){var e=this.props,t=e.isMobile,n=e.mainHeading,r=e.menuBodyTop,i=e.shareTitle,a=e.shareURL,o=r&&!t?{top:r}:{};return s.default.createElement("div",{className:"at-expanded-menu at-expanded-menu-copy-link",style:o},s.default.createElement(m.default,{mainHeading:n,shareTitle:i,shareURL:a}),s.default.createElement("div",{id:"at-expanded-menu-bd"},s.default.createElement(f.default,{copyLink:this.copyLink,onCopyAreaClicked:this.squashClick,showMessage:this.state.showMessage,supportsCopy:document.queryCommandSupported("copy"),trackUrl:this.state.trackUrl})))},t}(s.default.Component);t.default=v,v.propTypes={isMobile:s.default.PropTypes.bool,mainHeading:s.default.PropTypes.string,menuBodyTop:s.default.PropTypes.number,menuConfig:s.default.PropTypes.object.isRequired,menuShare:s.default.PropTypes.object.isRequired,shareTitle:s.default.PropTypes.string,shareURL:s.default.PropTypes.string},v.defaultProps={isMobile:!1,mainHeading:"Copy Link",shareTitle:"",shareURL:""},v.displayName="ExpandedMenuCopyLink",e.exports=t.default},523:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(385),l=r(s),u=n(385),d=r(u),c=n(71),p=r(c),f=n(5),h=r(f),m=function(e){function t(){i(this,t),e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){return l.default.createElement("div",null,l.default.createElement("div",{className:"at-copy-link-share-button at-expanded-menu-primary-action-btn",onClick:this.props.onClick},"Copy"))},t}(l.default.Component),v=function(e){function t(){i(this,t),e.apply(this,arguments)}return a(t,e),t.prototype.render=function(){var e=this.props.showMessage,t=e?" at-copy-link-show-result":"",n=e?{role:"alert"}:{"aria-hidden":!0};return l.default.createElement("div",o({className:"at-copy-link-result-message at-expanded-menu-notification"+t},n),l.default.createElement("span",null,"Copied to Clipboard!"))},t}(l.default.Component);v.propTypes={showMessage:l.default.PropTypes.bool};var g=function(e){function t(n){i(this,t),e.call(this,n),this.focusLink=this.focusLink.bind(this),this.copyLink=this.copyLink.bind(this)}return a(t,e),t.prototype.componentDidMount=function(){var e=p.default({code:"link",backgroundColor:"#888888",size:"50px"});this.refs.icon.appendChild(e),this.focusLink()},t.prototype.componentDidUpdate=function(){this.focusLink()},t.prototype.copyLink=function(){try{this.focusLink(),document.execCommand("copy"),this.props.copyLink()}catch(e){}},t.prototype.focusLink=function(){var e=d.default.findDOMNode(this.refs.linkText),t=void 0,n=void 0;e.focus(),h.default("iph")||h.default("ipa")?(t=document.createRange(),t.selectNodeContents(e),n=window.getSelection(),n.removeAllRanges(),n.addRange(t),e.setSelectionRange(0,999999)):e.select()},t.prototype.render=function(){var e=this.props.supportsCopy?l.default.createElement(m,{onClick:this.copyLink}):null;return l.default.createElement("div",{className:"at-copy-link-share",onClick:this.props.onCopyAreaClicked},l.default.createElement("div",{className:"at-copy-link-share-page-url-container"},l.default.createElement("span",{className:"at-copy-link-share-icon",ref:"icon"}),l.default.createElement("input",{className:"at-copy-link-share-page-url",type:"text",readOnly:"true",ref:"linkText",value:this.props.trackUrl})),e,l.default.createElement(v,{showMessage:this.props.showMessage}))},t}(l.default.Component);t.default=g,g.displayName="CopyLink",g.propTypes={copyLink:l.default.PropTypes.func.isRequired,onCopyAreaClicked:l.default.PropTypes.func,showMessage:l.default.PropTypes.bool,supportsCopy:l.default.PropTypes.bool,trackUrl:l.default.PropTypes.string.isRequired},e.exports=t.default}});